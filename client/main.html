
<head>
  <link rel="stylesheet" href="main.css"/>
 <link rel="icon" href="/public/favicon_s5j_icon.ico?/v1">
  <title >DDA -- DRCT</title>
</head>

<body>
<div class="txtNew" style=" width: 100%; position: absolute; top: 50px;"><h1 style="line-height:1em; text-align:center;"><span style="color:#064573;"><span style="font-family: open sans,sans-serif; font-size:38px;">
  DECENTRALIZED DERIVATIVES ASSOCIATION
  <div style="padding:10px"><div  style=" margin:0 auto;text-align:center;padding:0;border-bottom: 2px solid rgba(61, 155, 233, 1); width: 738px; height: 5px;"></div></div>
  </span></span>

  <div id="inner">
    {{> radioform}}
  </div>


  </h1>

<br>
<br>
<br>
<br>
<div class="mainpart">
<h2 class="dapp-header" id="Title">One Week BTC/USD -  Standard DRCT Contracts
</h2>
  <p id="radioselection"></p>
  {{#if showFactory}}
  {{> factory}}
  {{/if}}
  {{#if showCashout}}
    {{> cashout}}
  {{/if}}
  {{#if showEnter}}
    {{> enter}}
  {{/if}}
  {{#if showBulletin}}
    {{> bulletin}}
  {{/if}}
    {{#if showmySwaps}}
    {{> mySwaps}}
  {{/if}}
    {{#if showExit}}
    {{> exit}}
    {{/if}}
  {{#if showOracle}}
    {{> Oracle}}
  {{/if}}
  <br>  <br>  <br>
  <br>
  <div id= "bottom_box"><div id="cdetails_h"><h2> + Contract Details:</h2></div>
  <div id="cdetails_b" style="display:none">
    <p>--1x exposure to underlying rate
      <br>--This contract starts at 00:00:00 GMT on Start Date
    <br>--Contract caps at 100% move (100% of collateral used up)
    <br>--Contracts end the following week and can be paid out 24 hours after expiration (time for Oracle to update).  
    <br>--Oracle is a publicly operated Oraclize API pull: Full details <a href="https://github.com/DecentralizedDerivatives/Public_Oracle">here</a>
    <br>--Operator fee of 0.5%
    <br>--1000 DRCT tokens per ETH
  </p>
    </div>
  </div>

  <div id= "bottom_box"><div id="H2_h"><h2> + How to Use:</h2></div>
   <div id= "H2_b" style="display:none"> <p>--Choose long or short the rate
    <br>-- Enter amount of Ether you want to put into Contract
    <br>--Enter the premium in Ether you will pay someone to take other side (how desperate are you?)
    <br> - Click create contract
    <br> - Note that a 'Transaction Error. Exception thrown...' is actually just a warning from metamask about gas.  The contract will go through fine.  
    <br> - Wait for transaction to mined (check your Metamask) and click 'Address Result'
    <br> - Click 'Send Funds' to complete your transation.
    <br>--If someone enters your swap, you can check the 'My Swaps' and see that you have some tokens
    <br>--After the contract, be sure to go cash out your tokens
    <br>--For a complete tutorial, check out our DApp tutorial video: <a href="https://www.youtube.com/watch?v=NdBqfzAeHFg">here</a>
</p>
</div>
</div>
<div id= "bottom_box">
  <div class = "bottom_box" id = "Protips_h"><h2> +   Pro tips:</h2></div>
    <div id = "Protips_b" style="display:none">
      <p> --Check Open contracts (maybe you can match someone and get paid for it!)
    <br> --Check Open contracts for how much premium you may need to pay
    <br> --If no one enters your contract or you want to exit before someone does, be sure to click exit and cash out your tokens
  </p>
</div>
</div>
{{> connection}}
 <div id= "bottom_box2" style="text-align:right"><div id="disclaimer_h">
    <h4> + Disclaimer:</h4></div>
    <div id="disclaimer_b" style="display:none;text-align:left">
      <p> --DDA contracts and this DApp are still in a beta stage</p>
      <p> --Use of the Site and participation in transactions may carry financial risk. You acknowledge and agree that you are aware of such risks</p>
      <p> --The site may not be appropriate or available for use in some jurisdictions.</p>
    </div>
  </div>
</div>
<footer style="padding:0px; background-color:rgba(6, 69, 115, 1); text-align:right;">
 <div id="foot"><br>
    <p><a href="https://www.decentralizedderivatives.org" id="foot">www.decentralizedderivatives.org</a></p>
    <p><a href="info@decentralizedderivatives.org" id="foot">info@decentralizedderivatives.org</a></p>
  <br>
</div>
</footer>

</div>

</body>



<template name="radioform">
<div style="width: 100%">
<button class="radioFactory" id="main">CREATE CONTRACT</button>
<button class="radioEnter" id='main'>ENTER SWAP</button>
<button class="radioCashout" id='main'>CASH OUT</button>
<button class="radioExit" id='main'>EXIT</button>
<button class="radioBulletin" id='main'>OPEN SWAPS</button>
<button class="radioOracle" id='main'>QUERY ORACLE</button>
<button class="radiomySwaps" id='main' style = "border-right:none" >MY SWAPS</button>
</div>
</template>


<template name="connection">
    <div id= "bottom_box2" style="text-align:right"><div id="connection_h">
    <h4> + Connection Status:</h4></div>
    <div id="connection_b" style="display:none;text-align:left">
      <p>Note, these contracts are mainnet...you should be too</p>
      <p>Network: <i> {{net}} </i></p>
      <p>Address: <i> {{acct}} </i></p>
      <p>Funds: <i> {{funds}} </i> <i>Ether</i></p>
    </div>
  </div>
</template>

<template name ="factory">
  <h4>Start Date:  <input type="date" id="startDate"><i>Must be within the next 20 days</i></h4>
    <h4> Long or Short:
    <select id="isLong">
      <option value="true">Long</option>
      <option value="false">Short</option>
    </select>
  </h4>
      <h4>Amount of Ether: <input type="text" id='amount_a' name="" value=0><i>Must be greater than .1</i></h4>
      <h4>Premium amount: <input type="text" id='premium' name="" value=0><i>Must be greater than .001</i></h4>
    <div><div id="inner">
      <button class="create" id="button_bottom"> Create Contract </button>
    </div></div>
    <div id = "CreationResult" style="visibility:visible">
      <button class="addresult" id="button_bottom">Address Result</button>
      <button class="initiate" name="sendbutton" id="button_bottom" style="visibility:visible;"> Send Funds </button>
          <br><br><br>
          Swap Address:<input type="text" id="sendfund_add" name="" value={{returnedadd}} style="width:400px"><br>
        <br>
          <i>Note: If you are the first DRCT contract for a given start date, you will need to create long/short DRCT token contracts in the Oracle tab. </i>
      <br>
    </div>

</template>

<template name ="bulletin">
<br><br><br><br>
    <h4>Start Date:  <input type="date" id="startDate"></h4>
    <h4> Contract State
      <select id="CState">
      <option value="1">Open</option>
      <option value="0">Created</option>
       <option value="2">Entered</option>
        <option value="3">Tokenized</option>
         <option value="4">Paid</option>
    </select>
  </h4>
    <button class="bulletin" id="button_bottom">List Opens</button>
    <!--<button class="openDates" id="button_bottom">List Open Dates</button>-->
    <br>
    <p id="openDate_list"></p>
    <br>
    <p id="bulletinState">-----</p>
    <br>
    <br>
</template>


<template name ="Oracle">
<br><br><br>
    <p>Enter Date: <input type="date" id="oDate"></p>
    <br>
    <button class="Oracle" id="button_bottom"> Get Value </button><button class="isToken" id="button_bottom"> Has Token? </button>
     <br>
     <br>
     <br>
    <p>{{existToken}} </p>
    <p>{{oraclevals}} </p>
    <br>
    <br>
    
    <br>
    <div id="TokenCreator" style="visibilty:hidden">
    <button class="newTokens" id="button_bottom"> Create Token </button>
    </div>

</template>


<template name="cashout">
<br><br><br><br>
    <button class="balances" id="button_bottom">Get Balances</button>
    <br><br>
    <div id='Balances' style = "visibility: hidden">
      <p>Balance Base1 Token:  <i> {{longbalance2}} </i></p>
      <p>Balance Base2 Token:  <i> {{shortbalance2}} </i></p>
    </div>
    <button class="cashout" id="button_bottom">Cash Out</button>
    <br>
    <br>
</template>

<template name="exit">
<br><br><br><br>
<form id="exit" action="/action_page.php"
onsubmit = "return validateForm()" method = "post">
  Swap Address:<input type="text" name="" value=""><br>
</form>
<br>
    <button class="exit" id="button_bottom">  Exit  </button>
    <br>
    <br>
</template>

<template name="enter">
<br><br><br><br>
<form id="enter" action="/action_page.php"
onsubmit = "return validateForm()" method = "post">
  Swap Address:<input type="text" name="" value=""><br>
</form>
<br>
  <h4> Long or Short:
    <select id="isLong_b">
      <option value="true">Long</option>
      <option value="false">Short</option>
    </select>
  </h4>
      <h4>Amount of Ether: <input type="text" id='amount_b' name="" value=0></h4>

    <button class="enter" id="button_bottom">  Enter Swap  </button>
    <br>
    <br>
</template>



<template name ="mySwaps">
<br><br><br><br>
 <h4>Start Date:  <input type="date" id="startDate"></h4>
    <div id='CapValues'>
      <p>Cap Values are +/- 100% of the starting value</p>
      <p>Start Value:  <i>{{startvalue}}</i></p>
      <p>Cap Value (Min):  <i>{{capmin}}</i></p>
      <p>Cap Value (Max):  <i>{{capmax}}</i></p>
    </div>
    <button class="balances" id="button_bottom">Get Open Token Balances</button>
    <br><br>
    <div id='Balances' style = "visibility: visible">
      <p>Balance Long Token:  <i> {{longbalance}} </i></p>
      <p>Balance Short Token:  <i> {{shortbalance}} </i></p>
    <br>
    <form id="exit" action="/action_page.php"
        onsubmit = "return validateForm()" method = "post">
          Reciever Address:<input type="text" id="receiver" name="" value=""><br><br>
          Type: <select id="isLong">
            <option value="true">Long</option>
            <option value="false">Short</option>
          </select>
          / Amount:      <input type="text" id='amount_send' name="" value=0><i>Must be greater than 1</i><br><br>
        </form>
    <button class="sendToken" id="button_bottom">Send Token</button>
  </div>
    <button class="MySwaps" id="button_bottom"> Show My Swaps </button>
    <br><br><p id="openswaplist"> </p>
    <br>
    <br>
</template>